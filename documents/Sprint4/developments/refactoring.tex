\subsection{Splitting up LauncherUtility}\label{sect:sprint4:refactoring}

A quick analysis of the code reveal that \lstinline|LauncherUtility| is now too big, spanning over 1200 lines with static methods for many different purposes.
By dividing the class into smaller classes, each with a certain purpose, the maintainability of the program and the readability and understandability of the code is increased.
Furthermore, many of the existing functions are either simplified or removed due to lack of use or redundancy.

\lstinline|LauncherUtility| is split into three different classes:

\begin{itemize}
\item \lstinline|LauncherUtility| remains as a class.
It now hosts many of the minor functions, that do not warrant their own class, but is used in a variety of classes.
Examples are methods getting helper functions from \textit{OasisLib} and  information about the current user and handling debug mode (described in \cref{appendix:debugmode}) and session expiration methods.
\item \lstinline|ApplicationControlUtility| is created.
This class contains methods that are used to either return different lists of applications or check if a certain list live up to a given criteria.
These methods are used when sorting which applications should be shown or marked in \lstinline|SettingsActivity| or \lstinline|HomeActivity|.
\item \lstinline|AppViewCreationUtility| is created as well.
This class is used for creation of views that contain an application.
The views are of the class \lstinline|AppImageView| - a custom class which extends the \lstinline|ImageView| class. This custom class has the functionality which is used in the settings activity when selection applications. This class has state field, which describes if the application is selected or not. It also implements functionality to toggle this state, between selected or not selected, changing the background of the view to indicate that it has been marked.
\end{itemize}

The two new classes have their own specific purposes, while \lstinline|LauncherUtility| handles a collection of smaller purposes.

A discussion on how this could have been improved even further, can be read in \cref{documents/Evaluation/discussion}.